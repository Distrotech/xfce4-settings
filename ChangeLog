2008-07-27	Nick Schermer <nick@xfce.org>

	* configure.ac.in, dialogs/mouse-settings/main.c,
	  dialogs/mouse-settings/Makefile.am,
	  xfce4-settings-helper/pointers.c,
	  xfce4-settings-helper/Makefile.am: Drop HAL dependency
	  and use Xevent for monitoring device changes.

2008-07-27	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/main.c,
	  xfce4-settings-helper/keyboard-shortcuts.c: Use
	  xfconf_channel_get_properties() instead of xfconf_channel_get_all().

2008-07-26	Nick Schermer <nick@xfce.org>

	First commit with legacy code working (randr < 1.2). Randr
	1.2 code disabled for now.
	
	* xfce4-settings-helper/Makefile.am,
	  configure.ac.in: Depend on randr 1.1 and remove xxf86vm.
	* dialogs/display-settings/xfce-randr-legacy.c,
	  dialogs/display-settings/xfce-randr-legacy.h: Lagecy backend.
	  This is used when compiled with randr < 1.2, when the drivers
	  is not really randr 1.2 or when there are more then one screen
	  on the default display.
	* dialogs/display-settings/xfce-randr.c,
	  dialogs/display-settings/xfce-randr.h: Randr 1.2 code, not
	  working yet. Disabled it for the moment.
	* dialogs/display-settings/main.c: Updates.
	* dialogs/display-settings/Makefile.am: Add new files.
	* xfce4-settings-helper/displays.c: Make legacy randr
	  code work.
	* dialogs/display-settings/display-dialog.glade: Updates.

2008-07-19	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/mouse-dialog.glade: Simplify packing
	  of the widgets, like we do in the other dialogs.

2008-07-19	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c, xfce4-settings-helper/pointers.c:
	  Remove the notification. Not a good idea since it also shows
	  after suspend.

2008-07-19	Nick Schermer <nick@xfce.org>

	* dialogs/keyboard-settings/main.c,
	  dialogs/keyboard-settings/keyboard-dialog.glade: Set default
	  window width in the glade file, not in the code.

2008-07-19	Nick Schermer <nick@xfce.org>

	* xfce4-settings-helper/Makefile.am, xfce4-settings-helper/main.c,
	  xfce4-settings-helper/keyboards.c/h: Add basic gobject stuff.
	* xfce4-settings-helper/accessibility.c, 
	  xfce4-settings-helper/keyboards.c,
	  xfce4-settings-helper/pointers.c: Fix some indentation.

2008-07-18	Nick Schermer <nick@xfce.org>

	* configure.ac.in, xfce4-settings-helper/Makefile.am,
	  xfce4-settings-helper/keyboards.c: Drop libxxf86misc dependency.
	  Xkb can do all this, it's not needed anymore and already
	  removed from Xorg git master.
	* dialogs/keyboard-settings/keyboard-dialog.glade: Show the slider
	  values, add tooltips and change the slider ranges a bit.
	* dialogs/keyboard-settings/main.c: Set default window size width to
	  400px instead on in the glade code.
	* xfce4-settings-helper/pointers.c, xfce4-settings-helper/keyboards.c,
	  xfce4-settings-helper/accessibility.c: Property push and trap
	  x errors.

2008-07-18	Nick Schermer <nick@xfce.org>

	* xfce4-settings-helper/main.c, configure.ac.in: Properly quit
	  the main loop when a signal is received.

2008-07-18	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c: Allow editing the display name
	  of the device in the dialog. This way users can set usable names
	  for devices that are plugged.

2008-07-18	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c: Change option values string.

2008-07-18	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c, xfce4-settings-helper/pointers.c,
	  xfce4-settings-helper/Makefile.am: Show a notification when a
	  mouse device is added. Notification has a button to open
	  the settings dialog, which will select the new device (if possible).

2008-07-18	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c: Properly fix previous commit. Also
	  make the code more readable.

2008-07-18	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c, dialogs/appearance-settings/main.c:
	  Escape the tooltip string, since Gtk+ 2.12 tree tooltips support
	  markup which results in errors with tips like <default pointer>.
	* dialogs/keyboard-settings/main.c: Drop unused variables.

2008-07-18	Nick Schermer <nick@xfce.org>

	* xfce4-settings-helper/accessibility.c: Improve the code a bit
	  and calculate the max_speed and time_to_max using the interval,
	  so the user can set a speed in pixels/sec and time in msec.
	* dialogs/accessibility-settings/accessibility-dialog.glade: Redesign
	  the dialog so you can see the values.
	* dialogs/display-settings/xfce4-display-settings.desktop.in,
	  dialogs/display-settings/display-dialog.glade,
	  dialogs/accessibility-settings/accessibility-dialog.glade,
	  dialogs/accessibility-settings/xfce4-accessibility-settings.desktop.in,
	  dialogs/mouse-settings/mouse-dialog.glade,
	  dialogs/mouse-settings/xfce4-mouse-settings.desktop.in,
	  dialogs/appearance-settings/xfce4-appearance-settings.desktop.in,
	  dialogs/appearance-settings/appearance-dialog.glade,
	  dialogs/keyboard-settings/xfce4-keyboard-settings.desktop.in,
	  dialogs/keyboard-settings/keyboard-dialog.glade: Synchronize the
	  dialog's sub title and .desktop comment, same for the generic name
	  and window title.

2008-07-18	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/main.c: Fix some issues with multiple row
	  selection in the shortcuts tree view. Properly destroy the command
	  dialog when adding a new command but pressing the cancel button in 
	  the command dialog. 
	* dialogs/keyboard-settings/shortcut-dialog.c: Remove the "No
	  shortcut" button as we don't support empty shortcut properties
	  anyway.

2008-07-17	Nick Schermer <nick@xfce.org>

	* dialogs/display-settings/Makefile.am,
	  dialogs/accessibility-settings/Makefile.am,
	  dialogs/mouse-settings/Makefile.am,
	  dialogs/appearance-settings/Makefile.am,
	  dialogs/keyboard-settings/Makefile.am: Add --strip-comments 
	  --strip-content to exo-csource for generating glade headers.
	* configure.ac.in: Bump exo version to 0.3.7.1 since stripping
	  glade files on older versions is broken.

2008-07-17	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/command-dialog.c: Make entry activate the
	  default widget of the dialog. Make GTK_RESPONSE_OK the default
	  dialog response.

2008-07-17	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/accessibility-settings/accessibility-dialog.glade,
	  dialogs/appearance-settings/appearance-dialog.glade,
	  dialogs/display-settings/display-dialog.glade,
	  dialogs/keyboard-settings/keyboard-dialog.glade,
	  dialogs/mouse-settings/mouse-dialog.glade: Make all dialogs use
	  consistent borders/paddings/distances etc. again. Please keep it
	  this way when adding new dialogs/widgets.
	* dialogs/accesibility-settings/main.c, 
	  dialogs/keyboard-settings/main.c: Destroy GladeXML after the dialog
	  is destroyed. 

2008-07-16	Nick Schermer <nick@xfce.org>

	* Mv xfce4-settings-helper/xkb.* xfce4-settings-helper/keyboards.*:
	  Rename the files and change the internal names too. Settings
	  channel name renamed from 'xkb' to 'keyboards'.
	* Mv xfce4-settings-helper/accessx.* xfce4-settings-helper/accessibility.*:
	  Rename the files and change the internal names too. Settings
	  channel name renamed from 'accessx' to 'accessibility'.
	* xfce4-settings-helper/pointers.c: Rename the channel name from
	  'devices' to 'pointers'.
	* dialogs/keyboard-settings/main.c: Cleanup code.
	* dialogs/accessibility-settings/main.c: Cleanup code.
	* TODO: Add some stuff we need to take a look at.
	* dialogs/display-settings/: Update glade file and add a bit more code.
	* *.c, *.h: Add svn:keywords Id on all the source files and add $Id$
	  where needed. Various other small changes to make to changes above work.

2008-07-16	Jannis Pohlmann <jannis@xfce.org>

	* xfce4-settings-helper/accessx.c, xfce4-settings-helper/xkb.c: Call
	  XkbFreeControls prior to XkbFree. This should fix two memory leaks
	  and hopefully doesn't break anything.

2008-07-16	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/main.c: Save property when a new shortcut
	  is created.

2008-07-16	Jannis Pohlmann <jannis@xfce.org>

	* xfce4-settings-helper/keyboard-shortcuts.c: Connect to the
	  "property-changed" signal of the XfconfChannel. Ungrab keys when a
	  property is removed and grab keys when a new property is added.
	  Update the shortcuts -> command hash table according to the changes.

2008-07-16	Nick Schermer <nick@xfce.org>

	* dialogs/keyboard-settings/main.c, 
	  dialogs/keyboard-settings/command-dialog.c: Fix compilation.

2008-07-16	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/keyboard-dialog.glade: In the last commit
	  I forgot to mention that I've removed the keyboard theme stuff from
	  the dialog because this would be too complicated to implement before
	  the release.

2008-07-16	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/Makefile.am,
	  dialogs/keyboard-settings/command-dialog{c,h},
	  dialogs/keyboard-settings/main.c,
	  dialogs/keyboard-settings/shortcut-dialog.{c,h}: Add command dialog
	  for entering/selecting a command for a shortcut. Finally implement
	  the button for adding a new shortcut. Editing both, shortcuts and
	  commands also works now. I might have to tweak the command dialog a
	  little so the file chooser behaves similar to the panel launcher
	  dialog. The last thing really missing now is that the
	  xfce4-settings-helper refreshes itself when a shortcut is
	  changed/removed/added.

2008-07-15	Nick Schermer <nick@xfce.org>

	* dialogs/display-settings/main.c: Read the gamma settings,
	  free the xrandr screen info and usse permissions when reading
	  from xf86vmode.

2008-07-15	Nick Schermer <nick@xfce.org>

	* configure.ac.in: Show if Xf86misc was found.

2008-07-15	Nick Schermer <nick@xfce.org>

	* xfce4-settings-helper/keyboard-shortcuts.c: Make it compile
	  here.
	* xfce4-settings-helper/xkb.c: Avoid division by zero.

2008-07-15	Jannis Pohlmann <jannis@xfce.org>

	* xfce4-settings-helper/keyboard-shortcuts{c,h},
	  xfce4-settings-helper/Makefile.am,
	  xfce4-settings-helper/main.c: Add support for keyboard shortcuts.
	  Shortcuts are loaded, passive keyboard grabs are performed and
	  events with different modifier combinations are handled. The code
	  related to modifiers might not be sane, but it works quite well
	  here, even with changes made in .Xmodmap. I'd be curious to know
	  what happens if you change the keymap at runtime though.

2008-07-14	Nick Schermer <nick@xfce.org>

	* dialogs/display-settings/, dialogs/Makefile.am,
	  configure.ac.in: Initial import of the display
	  dialog code. Some basic stuff is working, but
	  not finished yet.
	* dialogs/mouse-settings/main.c: Set display name
	  as tooltip to make ellipsized string readable
	  with resizing the dialog.
	* TODO: Update.

2008-07-13	Nick Schermer <nick@xfce.org>

	* xfce4-settings-manager/Makefile.am,
	  dialogs/accessibility-settings/Makefile.am,
	  dialogs/mouse-settings/Makefile.am, dialogs/Makefile.am,
	  dialogs/appearance-settings/Makefile.am,
	  dialogs/keyboard-settings/Makefile.am,
	  xfce4-settings-helper/Makefile.am: Make all the make files look
	  the same. Add LDFLAGS and G_LOG_DOMAIN. Add PLATFORM_CPPFLAGS
	  for the CFLAGS used for debugging.
	* xfce4-settings-manager/main.c, dialogs/accessibility-settings/main.c,
	  dialogs/mouse-settings/main.c, dialogs/appearance-settings/main.c,
	  dialogs/keyboard-settings/main.c, xfce4-settings-helper/main.c:
	  Use the G_LOG_DOMAIN for the version info and init error.
	  Add the Xfce version to the version information.
	* Set svn:keywords Id on all the make files and configure.ac.in.

2008-07-13	Nick Schermer <nick@xfce.org>

	* xfce4-settings-manager/main.c: Add basic version information
	  and gtk_init error. Destroy dialog after running it.
	* xfce4-settings-manager/xfce-settings-manager-dialog.c: Free
	  the icon string.
	* dialogs/accessibility-settings/main.c, dialogs/mouse-settings/main.c,
	  dialogs/appearance-settings/main.c, dialogs/keyboard-settings/main.c,
	  xfce4-settings-helper/main.c: Don't include <stdio.h>. Duno why I did
	  that.

2008-07-13	Nick Schermer <nick@xfce.org>

	* dialogs/accessibility-settings/main.c,
	  dialogs/mouse-settings/main.c,
	  dialogs/appearance-settings/main.c,
	  dialogs/keyboard-settings/main.c,
	  xfce4-settings-helper/main.c: Add same and improved error
	  messages and version information.

2008-07-13	Nick Schermer <nick@xfce.org>

	* dialogs/keyboard-settings/main.c: Fix code. Thought I saved it,
	  but I didn't...

2008-07-13	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/mouse-dialog.glade,
	  dialogs/mouse-settings/main.c,
	  dialogs/mouse-settings/Makefile.am,
	  xfce4-settings-helper/pointers.h,
	  xfce4-settings-helper/pointers.c: Merge multi pointer
	  branch code.
	* dialogs/keyboard-settings/main.c: Release the channels
	  after running the dialog.
	* xfce4-settings-helper/accessx.c,
	  xfce4-settings-helper/accessx.h,
	  xfce4-settings-helper/xkb.c,
	  xfce4-settings-helper/xkb.h: Move code into objects. Will
	  make things look nice and allows the code to cleanup when
	  the objects are released in main.c.
	* xfce4-settings-helper/main.c: Use the objects and do some
	  more checking before running the dialog.
	* xfce4-settings-helper/accessx.c: Make disabling the mouse
	  keys work; don't call channel_get functions when not needed.
	* dialogs/keyboard-settings/main.c: Release the channels after
	  running the dialog, also destroy the dialog after using it.
	* configure.ac.in: make some dependencies options, like libnotify,
	  hal, xf86misc. Fix this in the code too.
	* xfce4-settings-helper/accessx.c: Fix showing notifications on
	  systems that don't have the daemon running/installed, ie. avoid
	  a bunch of dbus errors. Make this code cleaner too.
	* TODO: Remove some items that have been fixed. Add a new one.

2008-07-11	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/mouse-dialog.glade: Add some tooltips
	  so people have a clue what the sliders actually do.

2008-07-11	Nick Schermer <nick@xfce.org>

	* dialogs/appearance-settings/main.c: Some code cleanups and
	  plug a stupid leak.
	* dialogs/appearance-settings/appearance-dialog.glade: Redesign
	  the dialog a bit, a notebook inside a notebook is not practical.
	* dialogs/keyboard-settings/main.c,
	  dialogs/keyboard-settings/shortcut-dialog.c: Fix includes to make
	  it compile.

2008-07-11	Jannis Pohlmann <jannis@xfce.org>

	* TODO: Add TODO file and fill it with the stuff that's still
	  missing in the keyboard settings.

2008-07-10	Nick Schermer <nick@xfce.org>

	* dialogs/appearance-settings/images.h,
	  dialogs/appearance-settings/main.c,
	  dialogs/appearance-settings/Makefile.am: Add rgba images
	  to the combobox, like in 4.4.

2008-07-10	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/keyboard-dialog.glade,
	  dialogs/keyboard-settings/Makefile.am,
	  dialogs/keyboard-settings/main.c,
	  dialogs/keyboard-settings/shortcut-dialog.{c,h}:
	  Revamped the dialog a bit. Add dialog widget for entering
	  shortcuts. Rewrite the settings dialog and add support for
	  loading, saving, modifying and removing shortcuts. Not
	  supported yet: Adding new ones.

2008-07-04	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c: Bring support for the
	  default cursor theme back.

2008-07-03	Nick Schermer <nick@xfce.org>

	* dialogs/appearance-dialog/main.c: Only add the icon theme
	  to the check list when it's actually added to the store.
	  Revert strcmp to g_utf8_collate. Strip trailing spaces.

	  Both fixes where mentioned by Jannis, thanks for that.

2008-07-03	Nick Schermer <nick@xfce.org>

	* dialogs/appearance-dialog/main.c: Use a similar function
	  for loading ui themes as icon themes. Add a list in both
	  theme load functions to avoid dupplicates. Read extra ui
	  theme information from the index.theme file if available.
	  Store the theme name (folder name) and display name separatly
	  in the store, authors can define another theme name in the
	  index.theme file which will result in settings a theme
	  that is not recognized by Gtk. Use hicolor as default icon
	  theme name. Fix the icon theme directory that was pushed
	  (its $datadir/icons, not $datadir/xfce4/icons).

2008-07-03	Nick Schermer <nick@xfce.org>

	* dialogs/appearance-dialog/main.c: Fix indentation of Jannis'
	  code to match the rest. Add Icon theme comments in the list
	  for Gtk 2.12. Make some strings static and merge the
	  selection_changed functions into one. Plug some leaks.

2008-07-02	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/appearance-dialog/main.c: Sort user interface and
	  icon themes. Use the only column (0) for searching.

2008-07-02	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/appearance-settings/main.c: Load icon themes properly.
	  I used some of the code from the old mcs ui plugin.
	* AUTHORS: I took the liberty to add my name here.

2008-07-01	Nick Schermer <nick@xfce.org>

	* dialogs/accessibility-settings/accessibility-dialog.glade,
	  dialogs/mouse-settings/mouse-dialog.glade,
	  dialogs/appearance-settings/appearance-dialog.glade,
	  dialogs/keyboard-settings/keyboard-dialog.glade: Make labels next
	  to the sliders small italic, like in Xfwm4; Make mnemonic widgets
	  work and some a buch of new ones where possible/suitable; Fix
	  case usage in labels.

2008-07-01	Nick Schermer <nick@xfce.org>

	* dialogs/mouse-settings/main.c: Destroy the dialog on exit
	  and Xfce4-mouse-settings in the version information.
	* dialogs/mouse-settings/Makefile.am: Add the G_LOG_DOMAIN
	  for glib warnings, errors and messages in the code.

2008-06-29	Jannis Pohlmann <jannis@xfce.org>

	* xfce4-settings-manager/xfce-settings-manager-dialog.c:
	  Add 6px border to the scrolled window in order to align it
	  with the dialog buttons.

2008-06-29	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/accessibility-settings/accessibility-dialog.glade,
	  dialogs/appearance-settings/appearance-dialog.glade,
	  dialogs/keyboard-settings/keyboard-dialog.glade,
	  dialogs/mouse-settings/mouse-dialog.glade: Change border of
	  toplevel boxes inside notebooks to 12px for the sake of
	  consistency (thunar does the same). Add bottom padding of
	  alignments below section titles to 6px.

2008-06-29	Nick Schermer <nick@xfce.org>

	* xfce4-settings-manager/xfce-settings-manager-dialog.c: Dialog
	  default size is 600x400px; Changed window icon name to
	  preferences-desktop instead of xfce4-settings, since that's
	  the default icon name; Don't show the dialog separator.
	  Scrolled window shadow is GTK_SHADOW_IN.
	* xfce4-settings-manager/xfce-settings-manager.desktop.in: Changed
	  Exec to xfce4-settings-manager.
	* dialogs/appearance-settings/appearance-dialog.glade: Make window
	  resizable; Put hinting and rgb widgets in a table for proper
	  scaling.
	* dialogs/mouse-settings/mouse-dialog.glade: Expand the icon theme
	  list, not the size/preview widget.
	* dialogs/mouse-settings/main.c: Fix compiler warnings.

2008-06-28	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/accessibility-settings/accessibility-dialog.glade,
	  dialogs/appearance-settings/appearance-dialog.glade,
	  dialogs/keyboard-settings/keyboard-dialog.glade,
	  dialogs/mouse-settings/mouse-dialog.glade: Change maximum
	  border width of all boxes to 6 in order to align the toplevel
	  boxes with the dialog buttons. Update the mouse dialog in
	  the same way as I did with the others before.

2008-06-28	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/keyboard-settings/keyboard-dialog.glade: Same
	  procedure as before.

2008-06-28	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/accessibility-settings/accessibility-dialog.glade:
	  Same here. Maybe I should also mention that all these dialogs
	  now use XfceTitledDialog instead of GtkDialog and XfceHeading.

2008-06-28	Jannis Pohlmann <jannis@xfce.org>

	* dialogs/appearance-settings/appearance-dialog.glade: Improve
	  the dialog layout. I've chosen 12px for horizontal distance
	  and 6px for horizontal distance between neighboured widgets.
	  All boxes now have a border of 10px expect for those inside
	  notebooks+alignments: they now have a border of 6px.

vim:set sw=8 sts=8 ts=8 noexpandtab:
